<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Pods</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../SUMMARY.html">Index</a></li><li class="chapter-item expanded affix "><li class="part-title">Docker and Kubernetes</li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Docker</li><li class="chapter-item expanded "><a href="../docker/1_understanding_docker_concepts.html"><strong aria-hidden="true">1.</strong> Understanding Docker Concepts</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> Basic Docker Command</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../docker/2_basic_commands.html"><strong aria-hidden="true">2.1.</strong> Basic Commands</a></li><li class="chapter-item expanded "><a href="../docker/3_running_command_inside_container.html"><strong aria-hidden="true">2.2.</strong> Running command inside container</a></li><li class="chapter-item expanded "><a href="../docker/4_docker_cleanup.html"><strong aria-hidden="true">2.3.</strong> Cleanup</a></li></ol></li><li class="chapter-item expanded "><a href="../docker/5_dockerfile.html"><strong aria-hidden="true">3.</strong> Dockerfile</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.</strong> Docker Layer</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../docker/6_understand_docker_layer.html"><strong aria-hidden="true">4.1.</strong> Understand Docker Layer</a></li><li class="chapter-item expanded "><a href="../docker/7_union_file_system.html"><strong aria-hidden="true">4.2.</strong> Union File System</a></li></ol></li><li class="chapter-item expanded "><a href="../docker/8_health_check.html"><strong aria-hidden="true">5.</strong> Health Check</a></li><li class="chapter-item expanded "><a href="../docker/9_restart_policies.html"><strong aria-hidden="true">6.</strong> Restart Policies</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> Docker Volumes</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../docker/10_docker_volume.html"><strong aria-hidden="true">7.1.</strong> Docker Volume</a></li><li class="chapter-item expanded "><a href="../docker/11_mount_host_path.html"><strong aria-hidden="true">7.2.</strong> Mount host path</a></li></ol></li><li class="chapter-item expanded "><a href="../docker/12_docker_network.html"><strong aria-hidden="true">8.</strong> Docker Network</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Docker Compose</li><li class="chapter-item expanded "><a href="../dockercompose/1_docker_compose.html"><strong aria-hidden="true">9.</strong> Docker Compose</a></li><li class="chapter-item expanded "><a href="../dockercompose/2_docker_compose_publish_ports.html"><strong aria-hidden="true">10.</strong> Publishing Ports</a></li><li class="chapter-item expanded "><a href="../dockercompose/3_docker_compose_logs.html"><strong aria-hidden="true">11.</strong> Logs</a></li><li class="chapter-item expanded "><a href="../dockercompose/4_docker_compose_multiple_services.html"><strong aria-hidden="true">12.</strong> Multiple Services</a></li><li class="chapter-item expanded "><a href="../dockercompose/5_docker_compose_volumes.html"><strong aria-hidden="true">13.</strong> Volumes</a></li><li class="chapter-item expanded "><a href="../dockercompose/6_docker_compose_network.html"><strong aria-hidden="true">14.</strong> Network</a></li><li class="chapter-item expanded "><a href="../dockercompose/7_docker_compose_restart_policy.html"><strong aria-hidden="true">15.</strong> Restart Policy</a></li><li class="chapter-item expanded "><a href="../dockercompose/8_docker_compose_health_check.html"><strong aria-hidden="true">16.</strong> Health Check</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Maven Docker Plugin</li><li class="chapter-item expanded "><a href="../maven/1_maven_docker_plugin.html"><strong aria-hidden="true">17.</strong> Maven Docker Plugin</a></li><li class="chapter-item expanded "><a href="../maven/2_maven_docker_healthcheck.html"><strong aria-hidden="true">18.</strong> Health Check</a></li><li class="chapter-item expanded "><a href="../maven/3_maven_docker_multiple_container.html"><strong aria-hidden="true">19.</strong> Multiple Container</a></li><li class="chapter-item expanded "><a href="../maven/4_maven_docker_volume.html"><strong aria-hidden="true">20.</strong> Volume</a></li><li class="chapter-item expanded "><a href="../maven/5_maven_docker_network.html"><strong aria-hidden="true">21.</strong> Network</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Kubernetes</li><li class="chapter-item expanded "><a href="../kube/1_understanding_kubernetes.html"><strong aria-hidden="true">22.</strong> Understanding Kubernetes</a></li><li class="chapter-item expanded "><a href="../kube/2_pods.html" class="active"><strong aria-hidden="true">23.</strong> Pods</a></li><li class="chapter-item expanded "><a href="../kube/3_resource_template.html"><strong aria-hidden="true">24.</strong> Update Resource Template</a></li><li class="chapter-item expanded "><a href="../kube/4_liveness_probe.html"><strong aria-hidden="true">25.</strong> Liveness Probe</a></li><li class="chapter-item expanded "><a href="../kube/5_replica_set.html"><strong aria-hidden="true">26.</strong> ReplicaSet</a></li><li class="chapter-item expanded "><a href="../kube/6_service.html"><strong aria-hidden="true">27.</strong> Service</a></li><li class="chapter-item expanded "><a href="../kube/7_readiness_probe.html"><strong aria-hidden="true">28.</strong> Readiness Probe</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">29.</strong> Deployment</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../kube/8_creating_deployment.html"><strong aria-hidden="true">29.1.</strong> Creating Deployment</a></li><li class="chapter-item expanded "><a href="../kube/9_rolling_update_deployment_strategy.html"><strong aria-hidden="true">29.2.</strong> Rolling Update Deployment Strategy</a></li><li class="chapter-item expanded "><a href="../kube/10_rolling_back_update.html"><strong aria-hidden="true">29.3.</strong> Rolling Back Update</a></li><li class="chapter-item expanded "><a href="../kube/11_failed_deployment.html"><strong aria-hidden="true">29.4.</strong> Failed Deployment</a></li><li class="chapter-item expanded "><a href="../kube/11_recreate_deployment_strategy.html"><strong aria-hidden="true">29.5.</strong> Recreate Deployment Strategy</a></li><li class="chapter-item expanded "><a href="../kube/12_blue_green_deployment_strategy.html"><strong aria-hidden="true">29.6.</strong> Blue Green Deployment</a></li></ol></li><li class="chapter-item expanded "><a href="../kube/13_env_variable.html"><strong aria-hidden="true">30.</strong> Environment Variable</a></li><li class="chapter-item expanded "><a href="../kube/14_config_maps.html"><strong aria-hidden="true">31.</strong> Config Maps</a></li><li class="chapter-item expanded "><a href="../kube/15_secrets.html"><strong aria-hidden="true">32.</strong> Secrets</a></li><li class="chapter-item expanded "><a href="../kube/16_host_path.html"><strong aria-hidden="true">33.</strong> Host Path</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="pods"><a class="header" href="#pods">Pods</a></h1>
<hr />
<ul>
<li>Pods are the central, most important, concept in Kubernetes.</li>
<li>Pod represents the basic building block in Kubernetes and a place where containers are run.</li>
<li>When using Kubernetes you always deploy and operate on a pod of containers instead of deploying containers individually.</li>
<li>Pods can run more than one container, but it is good practice running one container per pod.</li>
</ul>
<blockquote>
<ul>
<li>We need to remember that Kubernetes manages Pods not containers.</li>
<li>So Kubernetes cannot scale individual containers, instead, it scales whole pods.</li>
</ul>
</blockquote>
<h2 id="points-when-running-multiple-container"><a class="header" href="#points-when-running-multiple-container">Points when running multiple container</a></h2>
<ul>
<li>Pods with multiple containers, are always run on a <strong>single worker node</strong> — it never spans multiple worker nodes.</li>
<li>A pod of containers allows you to run closely related processes together and provide them with (almost) the same environment as if they were all running in a single container, while keeping them somewhat isolated.</li>
<li>One thing to stress here is that because containers in a pod run in the same Network namespace, they share the same IP address and port space.</li>
<li>This means processes running in containers of the same pod need to take care not to bind to the same port numbers or they’ll run into port conflicts.</li>
</ul>
<h2 id=""><a class="header" href="#"></a></h2>
<p>Pods Configuration</p>
<ul>
<li>I am using this <a href="https://github.com/amantuladhar/DockerKubernetesFiles/tree/kub-pod-initial">kub-pod-initial</a> branch for this chapter.</li>
<li>We can create a Pods using command line but let's do it using <code>yaml</code> file.</li>
</ul>
<pre><code class="language-yaml">apiVersion: v1                                      # 1
kind: Pod                                           # 2
metadata:                                           # 3
  name: v1-web                                      # 4
spec:                                               # 5
  containers:                                       # 6
    - image: amantuladhar/docker-kubernetes:v1-web  # 7
      name: v1-web                                  # 8
      ports:                                        # 9
        - containerPort: 8080
</code></pre>
<ul>
<li><code>#1</code> <code>apiVersion</code> conforms which version to Kubernetes API to use.</li>
<li><code>#2</code> <code>kind</code> describes what kind of Kubernetes Resources we want to define.</li>
<li><code>#3</code> <code>metadata</code> is a place where you put information about the pods</li>
<li><code>#4</code> <code>name</code> Setting name for pod.</li>
<li><code>#5</code> <code>spec</code> contains a pods specification. Specification like container template, volumes etc.</li>
<li><code>#6</code> <code>containers</code> list of container you want Pods to have</li>
<li><code>#7</code> <code>image</code> defines which image to use.</li>
<li><code>#8</code> <code>name</code> name of container.</li>
<li><code>#9</code> <code>ports</code> List of port container listens to.</li>
<li>Specifying ports in the pod definition is purely informational.</li>
<li>Omitting them has no effect on whether clients can connect to the pod through the port.</li>
<li>But it makes sense to define the ports explicitly so that everyone using your cluster can quickly see what ports each pod exposes.</li>
</ul>
<h2 id="creating-pods"><a class="header" href="#creating-pods">Creating pods</a></h2>
<ul>
<li>To create a pod we have a simple command.</li>
<li><code>kubectl create -f pods.xml</code></li>
</ul>
<pre><code class="language-bash">kubectl create -f pods.yaml
pod/v1-web created
</code></pre>
<h2 id="list-pods"><a class="header" href="#list-pods">List Pods</a></h2>
<ul>
<li>To list the running pods, we can use</li>
<li><code>kubectl get pods</code> command.</li>
</ul>
<pre><code class="language-bash">➜ kubectl get pods           
NAME     READY   STATUS    RESTARTS   AGE
v1-web   1/1     Running   0          21m
</code></pre>
<h2 id="view-logs"><a class="header" href="#view-logs">View logs</a></h2>
<ul>
<li>Viewing logs is simple too <code>kubectl logs @pod_name</code></li>
<li><code>kubectl logs v1-web</code></li>
<li>If your pod includes multiple containers, you have to explicitly specify the container name by including the <code>-c &lt;container name&gt;</code>.</li>
</ul>
<h2 id="access-your-app"><a class="header" href="#access-your-app">Access your app</a></h2>
<ul>
<li>We ran our Pod, if you check the status it states it is running as well.</li>
<li>But how do we access our app?</li>
<li>Note: Pods are not meant to be accessed directly. We create some higher labels resources that abstracts these detail.</li>
<li>For debugging purposes, Kubernetes lets us access our Pods directly using <strong>port-forwarding</strong> technique.</li>
<li><code>kubectl port-forwarding @pod_name @host_port:@container_pod</code></li>
</ul>
<pre><code class="language-bash">➜ kubectl port-forward v1-web 9090:8080

Forwarding from 127.0.0.1:9090 -&gt; 8080
Forwarding from [::1]:9090 -&gt; 8080
</code></pre>
<ul>
<li>You need to keep this command running if you want to access your pod.</li>
<li>If you visit <code>localhost:9090/test</code>, you will be able to access you app.</li>
</ul>
<pre><code class="language-bash">➜ http localhost:9090/test
HTTP/1.1 200 
Content-Type: application/json;charset=UTF-8
Date: Sun, 17 Feb 2019 20:41:22 GMT
Transfer-Encoding: chunked

{
    &quot;app.version&quot;: &quot;v1-web&quot;,
    &quot;host.address&quot;: &quot;172.17.0.5&quot;,
    &quot;message&quot;: &quot;Hello Fellas!!!&quot;
}
</code></pre>
<h2 id="deleting-the-pods"><a class="header" href="#deleting-the-pods">Deleting the pods</a></h2>
<ul>
<li>Deleting the pods is simple too.</li>
<li><code>kubectl delete pods @pod_name</code></li>
</ul>
<pre><code class="language-bash">➜ kubectl delete pods v1-web           
pod &quot;v1-web&quot; deleted
</code></pre>
<h2 id="pod-labels"><a class="header" href="#pod-labels">Pod Labels</a></h2>
<ul>
<li>Labels are simply a tag given to pods which may help us identify the specific pods.</li>
<li>As our application grows number of pods increases, we need to categorize them so that we can manage them efficiently.</li>
<li>Labels are a simple, yet incredibly powerful feature in Kubernetes.</li>
<li>Labels can be added to pods, but also for all other resources Kubernetes has.</li>
<li>A label is an arbitrary key-value pair you attach to a resource.</li>
<li>It can be utilized when selecting resources using label selectors.</li>
<li>Resources are filtered based on whether they include the label specified in the selector.</li>
<li>A resource can have more than one label, as long as the keys of those labels are unique within that resource.</li>
<li>You usually attach labels to resources when you create them, but you can also add additional labels or even modify the values of existing labels later without having to recreate the resource.</li>
<li>Let's see how we can add them in <code>yaml</code></li>
<li>Labels are added in <code>metadata</code> section using <code>labels</code> property.</li>
</ul>
<pre><code class="language-yaml">apiVersion: v1
kind: Pod
metadata:
  name: v1-web
  labels:
    version: v1
    env: dev
spec:
  containers:
    - image: amantuladhar/docker-kubernetes:v1-web
      name: v1-web
      ports:
        - containerPort: 8080
</code></pre>
<ul>
<li>You can create a resource using <code>kubectl create -f pods.yaml</code>.</li>
</ul>
<h2 id="see-pods-labels"><a class="header" href="#see-pods-labels">See Pods labels</a></h2>
<ul>
<li>You can see pods labels in multiple ways</li>
</ul>
<h2 id="--show-labels"><a class="header" href="#--show-labels"><code>--show-labels</code></a></h2>
<ul>
<li>If you want to see all labels use <code>--show-labels</code> option when using <code>kubectl get pods</code>.</li>
<li><code>kubectl get pods --show-labels</code>.</li>
</ul>
<pre><code class="language-bash">➜ kubectl get pods --show-labels
NAME     READY   STATUS    RESTARTS   AGE     LABELS
v1-web   1/1     Running   0          2m38s   env=dev,version=v1
</code></pre>
<h2 id="using--l-option"><a class="header" href="#using--l-option">using <code>-L</code> option</a></h2>
<ul>
<li>While <code>--show-lables</code> options works fine.</li>
<li>What if we have lots of labels. Not that I am saying you should add many labels.</li>
<li>We can use <code>-L</code> options with the list of labels you want to see.</li>
<li><code>-L label_key1,label_key2</code></li>
</ul>
<pre><code class="language-bash">➜ kubectl get pods -L version,env
NAME     READY   STATUS    RESTARTS   AGE    VERSION   ENV
v1-web   1/1     Running   0          6m2s   v1        dev
</code></pre>
<h2 id="adding-new-label"><a class="header" href="#adding-new-label">Adding new label</a></h2>
<ul>
<li>If you want to change/add the labels for pads you can do it by stopping the pod and creating again.</li>
<li>But let's see how we can add new labels to running container</li>
<li>We use <code>kubectl label @resource @resource_name @label_key=@label_value</code></li>
<li>For us <code>@resource</code> is <strong>pods</strong>.</li>
</ul>
<pre><code class="language-bash">➜ kubectl label pods v1-web value=new
pod/v1-web labeled
</code></pre>
<ul>
<li>List the pods with labels and see the new value.</li>
</ul>
<pre><code class="language-bash">➜ kubectl get pods --show-labels     
NAME     READY   STATUS    RESTARTS   AGE   LABELS
v1-web   1/1     Running   0          14m   env=prod,value=new,version=v1
</code></pre>
<h2 id="updating-labels"><a class="header" href="#updating-labels">Updating labels</a></h2>
<ul>
<li>If we want to override the existing label, we can use the same command like above but we need to append <code>--overwrite</code> option as well.</li>
<li>We use <code>kubectl label @resource @resource_name @label_key=@label_value --overwrite</code></li>
<li>Let's change <code>env to dev</code> again.</li>
</ul>
<pre><code class="language-bash">➜ kubectl label pods v1-web env=dev --overwrite
pod/v1-web labeled
</code></pre>
<ul>
<li>List the labels</li>
</ul>
<pre><code class="language-bash">➜ kubectl get pods --show-labels               
NAME     READY   STATUS    RESTARTS   AGE   LABELS
v1-web   1/1     Running   0          16m   env=dev,value=new,version=v1
</code></pre>
<h2 id="list-the-pods-using-labels"><a class="header" href="#list-the-pods-using-labels">List the pods using labels</a></h2>
<ul>
<li>Listing pods using a label selector.</li>
<li>We use <code>-l</code> to add label criteria when listing the pods.</li>
</ul>
<h2 id="selecting-pods-with-specific-label-and-specific-value"><a class="header" href="#selecting-pods-with-specific-label-and-specific-value">Selecting pods with specific label and specific value</a></h2>
<pre><code class="language-bash">➜ kubectl get pods -l env=dev    
NAME     READY   STATUS    RESTARTS   AGE
v1-web   1/1     Running   0          51m
</code></pre>
<h2 id="selecting-pods-that-have-specific-label"><a class="header" href="#selecting-pods-that-have-specific-label">Selecting pods that have specific label</a></h2>
<ul>
<li>We can also select pods that have specific label, ignoring value it has.</li>
</ul>
<pre><code class="language-bash">➜ kubectl get pods -l env    
NAME     READY   STATUS    RESTARTS   AGE
v1-web   1/1     Running   0          53m 
</code></pre>
<h2 id="selecting-pods-that-dont-have-specific-label"><a class="header" href="#selecting-pods-that-dont-have-specific-label">Selecting pods that don't have specific label</a></h2>
<pre><code class="language-bash">➜ kubectl get pods -l '!env'
No resources found.
</code></pre>
<h2 id="deleting-pods-using-label-selectors"><a class="header" href="#deleting-pods-using-label-selectors">Deleting pods using label selectors</a></h2>
<ul>
<li>We already know how to delete a specific pod with name.</li>
<li>If we want to mass delete pods, we can use label selector criteria <code>-l</code> option.</li>
</ul>
<pre><code class="language-bash">➜ kubectl delete pods -l env
pod &quot;v1-web&quot; deleted
</code></pre>
<h2 id="deleting-all-pods-at-once"><a class="header" href="#deleting-all-pods-at-once">Deleting all pods at once</a></h2>
<ul>
<li>We can delete all pods at once using <code>kubectl delete pods --all</code></li>
</ul>
<h2 id="deleting-all-resource"><a class="header" href="#deleting-all-resource">Deleting all resource</a></h2>
<ul>
<li>We haven't learned about other type of resources, but if we want to delete all resources at once we can use.</li>
<li><code>kubectl delete all --all</code>.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../kube/1_understanding_kubernetes.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../kube/3_resource_template.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../kube/1_understanding_kubernetes.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../kube/3_resource_template.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
